version: v1
plugins:
  - plugin: buf.build/protocolbuffers/go
    out: ./
    opt: module=github.com/gnolang/gnomobile
  - plugin: buf.build/connectrpc/go
    out: ./
    opt: module=github.com/gnolang/gnomobile
  - plugin: buf.build/grpc/swift:v1.19.1
    out: gnoboard/ios/Sources/rpc
    opt: Client=true,Server=false
  # dependencies
  - plugin: buf.build/apple/swift
    out: gnoboard/ios/Sources/rpc
    opt: Visibility=Public
  - plugin: buf.build/bufbuild/es
    out: gnoboard/src/api
  - plugin: buf.build/connectrpc/es
    out: gnoboard/src/api
